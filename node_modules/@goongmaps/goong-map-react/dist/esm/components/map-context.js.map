{"version":3,"file":"map-context.js","names":["React","createContext","useState","useContext","MapContext","viewport","map","container","onViewportChange","onViewStateChange","eventManager","MapContextProvider","Provider","WrappedProvider","value","children","setMap","context"],"sources":["../../../src/components/map-context.js"],"sourcesContent":["import * as React from 'react';\nimport {createContext, useState, useContext} from 'react';\n\nconst MapContext = createContext({\n  /* Map context */\n\n  // Viewport\n  viewport: null,\n  // mapboxgl.Map instance\n  map: null,\n  // DOM element that contains the map\n  container: null,\n\n  /* Interaction callbacks */\n  onViewportChange: null,\n  onViewStateChange: null,\n\n  // EventManager instance\n  eventManager: null\n});\n\n// Save the original Provider component\nexport const MapContextProvider = MapContext.Provider;\n\n// And replace Provider with our own\nfunction WrappedProvider({value, children}) {\n  const [map, setMap] = useState(null);\n  const context = useContext(MapContext);\n\n  value = {\n    setMap,\n    ...context,\n    map: (context && context.map) || map,\n    ...value\n  };\n\n  return <MapContextProvider value={value}>{children}</MapContextProvider>;\n}\n\nMapContext.Provider = WrappedProvider;\n\nexport default MapContext;\n"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAAQC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAO,OAAO;AAEzD,IAAMC,UAAU,GAAGH,aAAa,CAAC;EAI/BI,QAAQ,EAAE,IAAI;EAEdC,GAAG,EAAE,IAAI;EAETC,SAAS,EAAE,IAAI;EAGfC,gBAAgB,EAAE,IAAI;EACtBC,iBAAiB,EAAE,IAAI;EAGvBC,YAAY,EAAE;AAChB,CAAC,CAAC;AAGF,OAAO,IAAMC,kBAAkB,GAAGP,UAAU,CAACQ,QAAQ;AAGrD,SAASC,eAAe,OAAoB;EAAA,IAAlBC,KAAK,QAALA,KAAK;IAAEC,QAAQ,QAARA,QAAQ;EACvC,gBAAsBb,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA7BI,GAAG;IAAEU,MAAM;EAClB,IAAMC,OAAO,GAAGd,UAAU,CAACC,UAAU,CAAC;EAEtCU,KAAK;IACHE,MAAM,EAANA;EAAM,GACHC,OAAO;IACVX,GAAG,EAAGW,OAAO,IAAIA,OAAO,CAACX,GAAG,IAAKA;EAAG,GACjCQ,KAAK,CACT;EAED,OAAO,oBAAC,kBAAkB;IAAC,KAAK,EAAEA;EAAM,GAAEC,QAAQ,CAAsB;AAC1E;AAEAX,UAAU,CAACQ,QAAQ,GAAGC,eAAe;AAErC,eAAeT,UAAU"}