{"version":3,"file":"geolocate-utils.js","names":["supported","isGeolocationSupported","undefined","Promise","resolve","window","navigator","permissions","query","name","then","p","state","Boolean","geolocation"],"sources":["../../../src/utils/geolocate-utils.js"],"sourcesContent":["/* global window */\nlet supported;\n\nexport function isGeolocationSupported() {\n  // not necessary to check again\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    // navigator.permissions has incomplete browser support\n    // http://caniuse.com/#feat=permissions-api\n    // Test for the case where a browser disables Geolocation because of an\n    // insecure origin\n    return window.navigator.permissions.query({name: 'geolocation'}).then(p => {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}\n"],"mappings":"AACA,IAAIA,SAAS;AAEb,OAAO,SAASC,sBAAsB,GAAG;EAEvC,IAAID,SAAS,KAAKE,SAAS,EAAE;IAC3B,OAAOC,OAAO,CAACC,OAAO,CAACJ,SAAS,CAAC;EACnC;EAEA,IAAIK,MAAM,CAACC,SAAS,CAACC,WAAW,KAAKL,SAAS,EAAE;IAK9C,OAAOG,MAAM,CAACC,SAAS,CAACC,WAAW,CAACC,KAAK,CAAC;MAACC,IAAI,EAAE;IAAa,CAAC,CAAC,CAACC,IAAI,CAACC,CAAC,IAAI;MACzEX,SAAS,GAAGW,CAAC,CAACC,KAAK,KAAK,QAAQ;MAChC,OAAOZ,SAAS;IAClB,CAAC,CAAC;EACJ;EAEAA,SAAS,GAAGa,OAAO,CAACR,MAAM,CAACC,SAAS,CAACQ,WAAW,CAAC;EACjD,OAAOX,OAAO,CAACC,OAAO,CAACJ,SAAS,CAAC;AACnC"}